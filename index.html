<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Word Guess Game</title>
    <style>
    *{
        border: 1px solid black;  
    }
    .wordContainer, .wrongLetters{
        font-size: 100pt;
        display: flex;
        letter-spacing: 10pt;
    }
    </style>
</head>
<body>
    <nav>
        <div><a href="">Home</a></div>
        <div><a href="">Add Words</a></div>
        <div><a href="">Hint</a></div>
        <div><a href="">Give Up</a></div>
    </nav>
    <br>
    <div class="messageBox">
        <!-- add picture here -->
    </div>
    <br>
    <div class="hint animal language">
        <!-- add the animal name or language here -->
    </div>
    <br>
    <div class="wordContainer">
        <!-- add a div for each letter here -->
    </div>
    <br>
    <div class="wrongLetters">
        <!-- add all of the wrong letters here -->
    </div>
    <br>
    <div>
        <button class="button" onclick="gs()">dash</button> 
    </div>



<script>
//defines the initial components of the game

document.addEventListener("DOMContentLoaded", function(event) {
console.log("start");
var alphabet = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','-','ä','ö','ü'];
var guesses = [];

//defines the words used and hints
var animalObjects = [
    {
        name: 'Bee',
        sound: ["bzz", "bun", "sum", "vzz", "boong"],
        language: ["English", "Japanese", "German", "Turkish", "Korean"]
    },
    {
        name: 'Bird',
        sound: ["Tweet", "Cui-Cui", "Pio-Pio", "Chun-Chun", "Pip-Pip", "Tjiep", "Jick-Jick", "TsiouTsiou", "Chip"],
        language: ["English", "French", "Spanish", "Japanese", "Swedish", "Dutch", "Turkish", "Greek", "Italian"]
    },
    {
        name: 'Cat',
        sound: ["Meow", "Mjau", "Myau", "Miau", "Miao", "Meo", "Miaou", "Yaong", "Nyan", "Nau"],
        language: ["English", "Swedish", "Russian", "Spanish", "Italian", "Vietnamese", "French", "Korean", "Japanese", "Estonian"]	
    },
    {
        name: 'Cockerel',
        sound: ["Cock-a-doodle-doo", "Kikiriki", "Cocorico", "Ko-ki-oh", "Kok-e-kok-ko"],
        language: ["English", "Spanish", "French", "Korean", "Japanese"]
    },
    {
        name: 'Dog',
        sound: ["Woof", "Gav", "Waouh", "Guau", "Blaf", "Wan", "Voff", "Ham", "Bau", "Wong", "Hev", "Haap", "Guk", "Meong"],
        language: ["English", "Russian", "French", "Spanish", "Dutch", "Japanese", "Icelandic", "Romanian", "Italian", "Cantonese", "Turkish", "Persian", "Indonesian", "Korean"]
    },
    {
        name: 'Duck',
        sound: ["Quack", "Rap", "Mac", "Hap", "Vak", "Coin", "Praaks"],
        language: ["English", "Danish", "Romanian", "Hungarian", "Turkish", "French", "Estonian"]
    },
    {
        name: 'Frog',
        sound: ["Ribbit", "Cra-Cra", "Vrak", "Kwaak", "Kum-kum", "Gae-Gool", "OpOp", "GuoGuo", "Brekeke", "Kerokero"],
        language: ["English", "Italian", "Turkish", "German", "Polish", "Korean", "Thai", "Chinese", "Hungarian", "Japanese"]
    },
    {
        name: 'Horse',
        sound: ["Neigh", "Vrinsk", "Hihiin", "Gnagg", "I-go-go", "I-haaa", "Nyihaha"],
        language: ["English", "Danish", "Japanese", "Swedish", "Russian", "Polish", "Hungarian"]
    },
    {
        name: 'Mouse',
        sound: ["Squeak", "Piep", "Pip-pip", "Squitt", "Chuu", "Zi", "Jjik", "Cin"],
        language: ["English", "Dutch", "Swedish", "Italian", "Japanese", "Mandarian", "Korean", "Hungarian"]
    },
    {
        name: 'Pig',
        sound: ["Oink", "Hunk", "Buu", "Grunz", "Knor", "Noff"],
        language: ["English", "Albanian", "Japanese", "German", "Dutch", "Sweedish"]
    }];

//allows the player to add new words
var wordBox = [];
var gameWord = [];

//checks to see if the player had added words to help with vocabulary or if the default words will be used.
if(wordBox.length === 0) {
    console.log('There are not any words added to the game. Default words will be used.');
//selects the animal and hints from the animalObject
    var randomAnimal = Math.floor(Math.random()*animalObjects.length);
    var nameHint = animalObjects[randomAnimal].name;
    var randomSound = Math.floor(Math.random()*animalObjects[randomAnimal].sound.length);
    var defaultWord = animalObjects[randomAnimal].sound[randomSound];
    var languageHint = animalObjects[randomAnimal].language[randomSound];

    console.log('Selected Animal: ' + nameHint);
    console.log('Language Hint: ' + languageHint);
    console.log('Word to guess: ' + defaultWord);
    var matchCase = defaultWord.toString().toLowerCase();
    var gameWord = matchCase;
} else {
    console.log('New words have been added. The new words will be used.')


//********For future development I would like to add a section that allows users to add words they are learning for vocabulary review.

    gameWord = wordBox;
};

console.log("here: " + gameWord);
//creates a div for each letter in the random word
console.log("Creates a div for each letter");
for (var i = 0; i < gameWord.length; i++) {
    var emptyWord = document.querySelector(".wordContainer");
    var letterDiv = document.createElement("div");
    if (gameWord[i] === "-") {
        letterDiv.classList.add("dash");
        letterDiv.innerHTML = "-";
    } else {
        letterDiv.classList.add(gameWord[i]);
        letterDiv.insertAdjacentText("afterbegin", "_");
    };
    emptyWord.appendChild(letterDiv);
};

//Displays the correct guesses
console.log("Replaces each div for the correct letter");

document.onkeyup = function(event) {
//Selects all of the divs with the matching class
    guess = document.querySelectorAll("." + event.key); 
//Prevents the same letter from being guessed twice
    var message = document.querySelector(".messageBox");
    message.innerHTML = "";

    if(alphabet.indexOf(event.key) === -1) {    
        message.insertAdjacentText("afterbegin", event.key + " has already been guessed or cannot be used. Please make another selection.");
        return;
    } else {
//Changes the allowable guesses so the same letter cannot be guessed twice
        function replaceGuess () {
            abc = alphabet.toString();
            abc = abc.replace(event.key,"");
            abc = abc.replace(",,",",");
            alphabet = abc.split(",");
            guesses.push(event.key);
        };
        replaceGuess();
    };

//Displays the wrong guesses in a seperate div
    if (guess.length === 0) {
        var badGuess = document.querySelector(".wrongLetters");
        var letterDiv = document.createElement("div");
        letterDiv.classList.add("badGuess");
        letterDiv.insertAdjacentText("afterbegin", event.key);
        badGuess.appendChild(letterDiv);
    } else {
//Changes the _ for the correct letter
        for (var i = 0; i < guess.length; i++) {
            guess[i].replaceWith(event.key);
        };
    };
};
});

</script>
</body>
</html>