<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Word Guess Game</title>
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css"> -->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <style>

    body{
        background-image: url("assets/images/hello.png");
        background-size: 100%; 
    }
    nav{
        text-align: center;
    }
    iframe{
        display:block;
        margin: 0 auto;
    }
    .normal{
        height: 50%;
    }
    .answer{
        height: 40%;
    }
    .messageBox{
        font-size: 20pt;
        display: flex;
        justify-content: center;
    }
    .wordContainer, .wrongLetters{
        font-size: 60pt;
        display: inline-flex;
        flex-direction: row;
        margin: 0 auto;       
        justify-content: center;
        letter-spacing: 10pt;
        background-color: white;
     
    }
    .picture{
        display: table-cell;
    }
    .hidden{
        display: none;
    }
    .space{
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
    }
    .wordBox{
        display: table;
        text-align: center;
        margin: auto;
        width: 50%;
        background-color: white;
    }


    </style>
</head>
<body>
    <h3 class="question wordBox">What sound does a (animal) make in (langauge)?</h3>
    <h3 class="wordBox">Pick a letter to find out. All umlauts (ä, ö and ü) have been changed to (a, o and u).</h3>
    <br>
    <nav>
        <button type="button" class="btn btn-primary btn-lg" onclick="giveAnimalName()">Give animal name</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="giveLanguageName()">Give language</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="giveLetter()">Give letter</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="playSound()">Play sound</button>
        <button type="button" class="btn btn-secondary btn-lg" onclick="reload()">Play again</button>
    </nav>
    <br class="space">
    <div class="picture card-group card">
        <!-- add pictures here -->
        <img src="assets/images/Bee.jpg" class="normal displayBee" id="Bee">
        <img src="assets/images/Bird.jpg" class="normal displayBird" id="Bird">
        <img src="assets/images/Cat.jpg" class="normal displayCat" id="Cat">
        <img src="assets/images/Cockerel.jpg" class="normal displayCockerel" id="Cockerel">
        <img src="assets/images/Dog.jpg" class="normal displayDog" id="Dog">
        <img src="assets/images/Duck.jpg" class="normal displayDuck" id="Duck">
        <img src="assets/images/Frog.jpg" class="normal displayFrog" id="Frog">
        <img src="assets/images/Horse.jpg" class="normal displayHorse" id="Horse">
        <img src="assets/images/Mouse.jpg" class="normal displayMouse" id="Mouse">
        <img src="assets/images/Pig.jpg" class="normal displayPig" id="Pig">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-7.jpg" class="hidden answer Bee">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-11.jpg" class="hidden answer Bird">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-1-1.jpg" class="hidden answer Cat">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-8.jpg" class="hidden answer Cockerel">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-4.jpg" class="hidden answer Dog">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-3.jpg" class="hidden answer Duck">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-10.jpg" class="hidden answer Frog">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-5.jpg" class="hidden answer Horse">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-6.jpg" class="hidden answer Mouse">
        <img src="https://static.boredpanda.com/blog/wp-content/uuuploads/animal-sounds-in-different-languages-james-chapman/animal-sounds-in-different-languages-james-chapman-2.jpg" class="hidden answer Pig">
    </div>
    <br>
    <div class="wordBox">
        <div class="messageBox">
            <!-- add picture here -->
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div class="wordContainer">
            <!-- add a div for each letter here -->
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div class="wrongLetters">
            <!-- add all of the wrong letters here -->
            </div>
        </div>
    </div>
    <br>
    <div class="wordBox">
        <h3>Here is a video explaining why a langauge decides animals make different sounds: </h3>
    </div>
    <iframe width="420" height="345" src="https://www.youtube.com/embed/Qq94Vcb6atU"></iframe>
    <audio id="player"></audio>
    
<script>


document.addEventListener("DOMContentLoaded", function(event) {
    console.log("start");
    //defines the initial components of the game
    var alphabet = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
    var guesses = [];
    var remainingLetters = [];

    //defines the words used and hints
    var animalObjects = [
        {
            name: 'Bee',
            sound: ["bzz", "bun", "sum", "vzz", "boong"],
            language: ["English", "Japanese", "German", "Turkish", "Korean"]
        },
        {
            name: 'Bird',
            sound: ["Tweet", "Cui-Cui", "Pio-Pio", "Chun-Chun", "Pip-Pip", "Tjiep", "Jick-Jick", "TsiouTsiou", "Chip"],
            language: ["English", "French", "Spanish", "Japanese", "Swedish", "Dutch", "Turkish", "Greek", "Italian"]
        },
        {
            name: 'Cat',
            sound: ["Meow", "Mjau", "Myau", "Miau", "Miao", "Meo", "Miaou", "Yaong", "Nyan", "Nau"],
            language: ["English", "Swedish", "Russian", "Spanish", "Italian", "Vietnamese", "French", "Korean", "Japanese", "Estonian"]	
        },
        {
            name: 'Cockerel',
            sound: ["Cock-a-doodle-doo", "Kikiriki", "Cocorico", "Ko-ki-oh", "Kok-e-kok-ko"],
            language: ["English", "Spanish", "French", "Korean", "Japanese"]
        },
        {
            name: 'Dog',
            sound: ["Woof", "Gav", "Waouh", "Guau", "Blaf", "Wan", "Voff", "Ham", "Bau", "Wong", "Hev", "Haap", "Guk", "Meong"],
            language: ["English", "Russian", "French", "Spanish", "Dutch", "Japanese", "Icelandic", "Romanian", "Italian", "Cantonese", "Turkish", "Persian", "Indonesian", "Korean"]
        },
        {
            name: 'Duck',
            sound: ["Quack", "Rap", "Mac", "Hap", "Vak", "Coin", "Praaks"],
            language: ["English", "Danish", "Romanian", "Hungarian", "Turkish", "French", "Estonian"]
        },
        {
            name: 'Frog',
            sound: ["Ribbit", "Cra-Cra", "Vrak", "Kwaak", "Kum-kum", "Gae-Gool", "OpOp", "GuoGuo", "Brekeke", "Kerokero"],
            language: ["English", "Italian", "Turkish", "German", "Polish", "Korean", "Thai", "Chinese", "Hungarian", "Japanese"]
        },
        {
            name: 'Horse',
            sound: ["Neigh", "Vrinsk", "Hihiin", "Gnagg", "I-go-go", "I-haaa", "Nyihaha"],
            language: ["English", "Danish", "Japanese", "Swedish", "Russian", "Polish", "Hungarian"]
        },
        {
            name: 'Mouse',
            sound: ["Squeak", "Piep", "Pip-pip", "Squitt", "Chuu", "Zi", "Jjik", "Cin"],
            language: ["English", "Dutch", "Swedish", "Italian", "Japanese", "Mandarian", "Korean", "Hungarian"]
        },
        {
            name: 'Pig',
            sound: ["Oink", "Hunk", "Buu", "Grunz", "Knor", "Noff"],
            language: ["English", "Albanian", "Japanese", "German", "Dutch", "Sweedish"]
        }];

    //selects the animal and hints from the animalObject
    var gameWord = [];
    var randomAnimal = Math.floor(Math.random()*animalObjects.length);
    var nameHint = animalObjects[randomAnimal].name;
    var randomSound = Math.floor(Math.random()*animalObjects[randomAnimal].sound.length);
    var defaultWord = animalObjects[randomAnimal].sound[randomSound];
    var languageHint = animalObjects[randomAnimal].language[randomSound];

    console.log('Selected Animal: ' + nameHint);
    console.log('Language Hint: ' + languageHint);
    console.log('Word to guess: ' + defaultWord);
    var matchCase = defaultWord.toString().toLowerCase();
    var gameWord = matchCase;

    remainingLetters = gameWord;
    console.log('remaining Letters: ' + remainingLetters);

    //creates a div for each letter in the random word
    console.log("Creates a div for each letter");
    for (var i = 0; i < gameWord.length; i++) {
        var emptyWord = document.querySelector(".wordContainer");
        var letterDiv = document.createElement("div");
        if (gameWord[i] === "-") {
            letterDiv.classList.add("dash");
            letterDiv.innerHTML = "-";
        } else {
            letterDiv.classList.add(gameWord[i]);
            letterDiv.insertAdjacentText("afterbegin", "_");
        };
        emptyWord.appendChild(letterDiv);
    };

    //Displays the correct guesses
    console.log("Replaces each div for the correct letter");

    document.onkeyup = function(event) {
    //Selects all of the divs with the matching class
        guess = document.querySelectorAll("." + event.key); 
    //Prevents the same letter from being guessed twice
        var message = document.querySelector(".messageBox");
        message.innerHTML = "";

        if(alphabet.indexOf(event.key) === -1) {    
            message.insertAdjacentText("afterbegin", event.key + " has already been guessed or cannot be used. Please make another selection.");
            return;
        } else {
    //Changes the allowable guesses so the same letter cannot be guessed twice
            function replaceGuess () {
                var abc = '';
                abc = alphabet.toString();
                abc = abc.replace(event.key,"");
                abc = abc.replace(",,",",");
                alphabet = abc.split(",");
                guesses.push(event.key);
            };
            replaceGuess();
        };

    //Displays the wrong guesses in a seperate div
        if (guess.length === 0) {
            var badGuess = document.querySelector(".wrongLetters");
            var letterDiv = document.createElement("div");
            letterDiv.classList.add("badGuess");
            letterDiv.insertAdjacentText("afterbegin", event.key);
            badGuess.appendChild(letterDiv);
        } else {
    //Changes the _ for the correct letter
            for (var i = 0; i < guess.length; i++) {
                guess[i].replaceWith(event.key);
    //Removes the correct letter and lets you know the remaining letters
                function lettersRemain() {
                    removeLetter = remainingLetters.toString();
                    removeLetter = removeLetter.replace("-","");
                    removeLetter = removeLetter.replace(event.key,"");
                    removeLetter = removeLetter.replace(/,/g,"");
                    remainingLetters = removeLetter.split("");
                }
                lettersRemain();
            };
            console.log('remaining letters: ' + remainingLetters);
            console.log(remainingLetters);
        }

        if (remainingLetters.length == 0) {
            message.innerHTML = "You won!!!";
            var pictureDiv = document.querySelector(".picture");
            var notWinningPicture = pictureDiv.getElementsByClassName("normal");
            console.log(notWinningPicture);
            for (var i=0; i < notWinningPicture.length; i++) {
                notWinningPicture[i].classList.add("hidden");
            }
            var winningPicture = pictureDiv.querySelector("." + nameHint).classList.remove("hidden");
            var singlePicture = pictureDiv.querySelector(".display" + nameHint).classList.remove("hidden");
            var removeNormal = pictureDiv.querySelector(".display" + nameHint).classList.remove("normal");
            var spacingDiv = document.createElement("div");
            pictureDiv.prepend(spacingDiv);
            var spacingDiv = spacingDiv.classList.add("space");


            playSound();
        }
    };

    //Gives the animal name
    giveAnimalName = function() {
        var giveName = document.querySelector(".question");
        if (giveName.classList.contains("addedLanguage") === true) {
            giveName.innerHTML = "What sound does a " + nameHint + " make in "+ languageHint + "?"
            giveName.classList.add("addedName");
        } else {
            giveName.innerHTML = "What sound does a " + nameHint + " make in (langauge)?"
            giveName.classList.add("addedName");
        }
    //removes the other pictures and adds the correct animal picture
        var img = document.createElement("img");
        img.src = "assets/images/" + nameHint + ".jpg";
        var findPicture = document.querySelector(".picture");
        findPicture.innerHTML = '';
        findPicture.appendChild(img);
    };
    //Gives the language
    giveLanguageName = function() {
        var giveLanguage = document.querySelector(".question");
        if (giveLanguage.classList.contains("addedName") === true) {
            giveLanguage.innerHTML = "What sound does a " + nameHint + " make in " + languageHint + "?"
            giveLanguage.classList.add("addedLanguage");
        } else {
            giveLanguage.innerHTML = "What sound does a (animal) make in " + languageHint + "?"
            giveLanguage.classList.add("addedLanguage");
        }
    };
    //gives a letter
    giveLetter = function() {
        var randomLetter = Math.floor(Math.random()*remainingLetters.length);
        var letterGive = document.querySelector(".messageBox");
        letterGive.innerHTML = "Try " + remainingLetters[randomLetter];
    }

    playSound = function() {
        if (nameHint === 'Duck' || nameHint === 'Mouse' || nameHint === 'Frog' || nameHint === 'Pig' || nameHint === 'Dog') {
            var soundFile = "./assets/sounds/" + nameHint.toLowerCase() + "Sound.wav";
        } else {
            var soundFile = "./assets/sounds/" + nameHint.toLowerCase() + "Sound.mp3";
        }
        console.log('Sound File: ' + soundFile);
        var audioTag = document.getElementById('player');
        var emptySourceTag = audioTag.innerHTML = '';
        var sourceTag = document.createElement("source");
        sourceTag.src = soundFile;
        audioTag.appendChild(sourceTag);
        audioTag.play();
    }

    //Restarts the game
    reload = function() {
        location.reload();
    }
});




</script>
</body>
</html>